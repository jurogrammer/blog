# Module Overview
- Module name: blog-site
- Responsibility: Deliver blog content and static utility pages via Hugo and client-side assets.
- Dependencies (internal + external): `content/**`, `layouts/**`, `static/**`, `hugo.toml`, GitHub Actions workflow, PaperMod theme.

# Internal Architecture
- Package structure: Content-first Hugo layout with section folders under `content/`, template overrides under `layouts/`, static artifacts under `static/`; Team Generator assets live in `static/tools/team-generator/`.
- Key classes/components: Hugo page templates/partials, page front matter, browser scripts for interactive tools; Team Generator uses `parser.js` (category parsing), `shuffle.js`, `allocator.js` (category round-robin), `storage.js` (schema v2), `render.js`, `app.js`.
- Domain model summary: Content pages (posts/tool pages) rendered into static HTML with optional client-state in browser storage.

# APIs (If applicable)
- Endpoints: Static routes generated by Hugo (no server API endpoints), including `/tools/team-generator/`.
- DTO contracts: Not applicable.
- External integrations: GitHub Pages hosting and GitHub Actions build pipeline.

# Data
- Tables / Collections owned: None (no backend persistence).
- Schema notes: Tool state persisted in `localStorage` using scoped keys (`team-generator.state` for Team Generator categories/options/results). Schema v2 stores category id/title/text arrays.
- Migration strategy: Version localStorage payloads via `version` field when structure changes.

# Configuration
- Required env vars: None for runtime; CI uses `HUGO_ENVIRONMENT=production`.
- Module-specific configs: `hugo.toml` defines production settings; `hugo.local.toml` carries local URL behavior flags, while `scripts/dev-local.sh` injects local `baseURL` per selected port.

# Runtime
- How to run this module locally: `./scripts/dev-local.sh [port]` (recommended) or `hugo server`.
- Ports: Default Hugo dev server (`1313`) unless overridden.
- Profiles: Development (`hugo server`) and production build (`hugo --minify`).

# Module Conventions
- Module-specific patterns: For tools, keep behavior in standalone JS files and avoid framework/runtime dependencies.
- Error boundaries: Keep UI operable on invalid input and display inline validation text.
- Validation rules: Parse category input robustly (newline/comma delimiters inside each category, trimming, empty-entry filtering, optional global duplicate removal).

# Assumptions / Decisions
- This repository is treated as a single module until additional independently deployable modules are introduced.
- Tool pages should not rely on server-side runtime logic beyond static Hugo rendering.
- Team Generator styles are namespaced with `tg-` classes to avoid collision with PaperMod global styles.
- In Team Generator, category 1 block is always present (not removable), and additional category blocks are user-managed dynamically.
- Team Generator allocator preserves member-count balancing per category while randomizing same-size category processing order and start-team offset on each run to reduce fixed placement patterns.
- Team Generator category member input fields intentionally override the shared textarea minimum height to keep category data-entry density compact.

# Known Issues
- Local environments may miss `hugo` CLI and require temporary binary download for render checks.

# Change Log (Last 10)
- 2026-02-18: Removed Edit Settings `Dataset` dropdown and moved `Groups`/`Members per team` mode fields to the top of the Team Generator form.
- 2026-02-18: Overrode category member textarea min-height to `96px` (`.tg-layout-settings .tg-category-textarea`) so per-category name input boxes render smaller than shared textareas.
- 2026-02-18: Updated Team Generator allocator to randomize same-size category order and initial team cursor so singleton categories and overflow slots do not always land on fixed groups.
- 2026-02-16: Strengthened Team Generator category `DELETE` affordance using danger-toned outlined button styling with explicit hover/focus emphasis.
- 2026-02-16: Changed local dev startup to dynamic `--baseURL` injection per port in `scripts/dev-local.sh` and removed fixed port from `hugo.local.toml`.
- 2026-02-16: Added local-run helper script (`scripts/dev-local.sh`) and local config override (`hugo.local.toml`) to prevent production URL redirects during localhost development.
- 2026-02-16: Updated global main menu config to include `/tools/` entry for direct navigation to tool pages.
- 2026-02-16: Simplified Team Generator textarea sizing CSS by removing redundant per-category `min-height` declaration.
- 2026-02-16: Standardized category textarea min-height at `84px` across both category-specific and shared textarea selectors.
- 2026-02-16: Corrected textarea sizing by reducing shared `.tg-layout-settings textarea` min-height to match compact category-entry design.
